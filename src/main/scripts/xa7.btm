RULE Generate an XA Recovery Record
CLASS com.arjuna.ats.internal.jta.resources.arjunacore.XAResourceRecord
METHOD topLevelCommit
AT ENTRY
BIND xares = $0;
jndiName:String = xares.getJndiName();
IF TRUE
DO traceln("***** topLevelCommit: Halting for 6 seconds for " + jndiName), delay(6000)
ENDRULE

RULE kill jvm on sigterm
CLASS ShutdownHook 
METHOD run
AT ENTRY
IF TRUE
DO traceln("***** killing jvm"), killJVM()
ENDRULE
